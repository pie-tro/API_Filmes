<div class="page-container">
  <div class="overlay"></div>

  <div class="content-wrapper">
    
    <header class="page-header">
      <h1>Gerenciar <span class="highlight-blue">Diretores</span></h1>
      <a routerLink="/" class="back-link">‚Üê Voltar</a>
    </header>

    <div class="grid-layout">
      
      <section class="glass-card form-section">
        <h2>Novo Diretor</h2>
        <p class="subtitle">Cadastre uma lenda do cinema</p>
        
        <form (ngSubmit)="criar()" class="director-form">
          <div class="input-group">
            <label>Nome Completo</label>
            <input [(ngModel)]="nome" name="nome" required placeholder="Ex: Christopher Nolan"/>
          </div>
          
          <div class="row-group">
            <div class="input-group">
              <label>Nacionalidade</label>
              <input [(ngModel)]="nacionalidade" name="nacionalidade" required placeholder="Ex: Brit√¢nico"/>
            </div>
            <div class="input-group">
              <label>Data Nascimento (Ano)</label>
              <input type="number" [(ngModel)]="data_nascimento" name="data_nascimento" required placeholder="1970"/>
            </div>
          </div>

          <div class="input-group">
            <label>Estilo Cinematogr√°fico</label>
            <input [(ngModel)]="estilo" name="estilo" required placeholder="Ex: Sci-Fi, Suspense, Noir"/>
          </div>

          <div class="input-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" [(ngModel)]="ativo" name="ativo"/>
              <span class="checkmark"></span>
              Diretor Ativo?
            </label>
          </div>

          <button type="submit" [disabled]="salvando" class="btn-accent">
            {{ salvando ? 'Salvando...' : 'Salvar Diretor' }}
          </button>
          
          @if (erro) { 
            <div class="error-msg">{{erro}}</div> 
          }
        </form>
      </section>

      <section class="glass-card list-section">
        <div class="list-header">
          <h2>Cadastrados</h2>
          <button (click)="carregar()" [disabled]="carregando" class="btn-icon refresh-btn" title="Recarregar">
            ‚Üª
          </button>
        </div>

        @if (carregando) {
          <div class="loading-state">
            <div class="spinner"></div>
            <p>Buscando diretores...</p>
          </div>
        }@else {
          @if (diretores.length === 0) {
            <div class="empty-state">
              <p>Nenhum diretor encontrado.</p>
            </div>
          }@else {
            <ul class="item-list">
              @for (d of diretores; track d._id) {
                <li class="item-card">
                  <div class="item-info">
                    <strong>{{ d.nome }}</strong>
                    <span class="item-details">
                      {{d.nacionalidade}} ‚Ä¢ {{d.data_nascimento}}
                      <br>
                      <span class="style-tag">{{d.estilo}}</span>
                    </span>
                  </div>
                  <button (click)="excluir(d._id)" class="btn-delete" title="Excluir">
                    üóëÔ∏è
                  </button>
                </li>
              }
            </ul>
          }
        }
      </section>
    </div>
  </div>
</div>